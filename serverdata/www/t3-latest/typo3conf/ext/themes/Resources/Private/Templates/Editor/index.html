<f:layout name="Default" />

<f:section name="Content">
	<link href="{f:uri.resource(path:'Stylesheet/ThemeSelector.css', extensionName:'themes')}" rel="stylesheet" />


	<f:form.hidden name="data[{formField.table}][{formField.row.uid}][tx_themes_skin]" value="{formField.row.tx_themes_skin}" id="tx_themes_skin"/>



	<div class="tx_themes_themeselector" style="border:1px solid black;">
		<f:if condition="{selectedTheme}">
			<f:then>
				<h3>
					Currently selected skin is
					<span title="{formField.row.tx_themes_skin}">&quot;{selectedSkin.title}&quot;</span>
					<span class="t3-icon t3-icon-actions t3-icon-actions-selection t3-icon-selection-delete" onclick="$('tx_themes_skin').value = ''; TBE_EDITOR.submitForm();"> </span>

				</h3>
				<div>
					<ul>
						<li class="previewTheme selectedTheme">
							<div class="previewDescription">
								<p>
									<strong>
										{selectedTheme.title}
									</strong>
									- (EXT:{selectedTheme.extensionName})
								</p>
								<small>
									by
									<a href="mailto:{selectedSkin.author.email}">
										{selectedTheme.author.name}
									</a>
									({selectedTheme.author.company})
								</small>
								<p>
									{selectedTheme.description}
								</p>
							</div>
							<div class="previewImage">
								<img src="{selectedTheme.previewImage}">
							</div>
						</li>
					</ul>
				</div>
				<div class="fixfloat"></div>
				<h3>
					other available skins
				</h3>
			</f:then>
		</f:if>


		<ul class="tx_skinselector_availableThemes">
			<f:for each="{selectableThemes}" as="theme" key="themeNumber">
				<f:if condition="{selectedTheme} == {theme}">
					<f:then>

					</f:then>
					<f:else>
						<li class="previewTheme" style="float:left;">
							<div class="previewImage" onclick="$('tx_themes_skin').value = '{theme.extensionName}'; TBE_EDITOR.submitForm();">
								<img src="{theme.previewImage}">
							</div>
							<div class="previewTitle">
								<b>{theme.title}</b>
							</div>
							<div class="previewOverlay">
								<span class="t3-icon t3-icon-actions t3-icon-actions-document t3-icon-document-select" onclick="$('tx_themes_skin').value = '{theme.extensionName}'; TBE_EDITOR.submitForm();">&nbsp;</span>
								<span class="t3-icon t3-icon-actions t3-icon-actions-system t3-icon-system-extension-documentation">&nbsp;</span>
								<span class="t3-icon t3-icon-apps t3-icon-apps-clipboard t3-icon-clipboard-images">&nbsp;</span>
								<p>
									{theme.description}
								</p>
							</div>
						</li>
					</f:else>
				</f:if>
			</f:for>
		</ul>
		<div style="clear:both;"></div>
	</div>

	<hr style="clear:both;">

	<f:for each="{categories}" as="category">
		<f:if condition="{category.items}">
			<h2>{category.title}</h2>
			<f:for each="{category.items}" as="item">
				<label for="{item.name}">{item.label}</label>
				<div class="formfield-wrapper {f:if(condition: '{item.isDefault}', then:'showDefault')}">
					<div class="formfield-default">
						{item.default_value}
					</div>
					<div class="formfield-field">
						<f:render partial="FormFields/{item.typeCleaned}" arguments="{field: item}"/>
					</div>
				</div>

			<pre>
{item.cat}
{item.subcat_name}
{item.subcat}
{item.type} - {item.typeCleaned}
{item.label}
{item.name}
{item.value}
{item.default_value}
			</pre>
			</f:for>
		</f:if>
	</f:for>


</f:section>